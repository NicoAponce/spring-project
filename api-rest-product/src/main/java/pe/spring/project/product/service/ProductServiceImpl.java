package pe.spring.project.product.service;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import pe.spring.project.product.entity.Category;import pe.spring.project.product.entity.Product;import pe.spring.project.product.repository.IProductRepository;import java.util.Date;import java.util.List;@Servicepublic class ProductServiceImpl implements IProductService {    @Autowired    private  IProductRepository productRepository;    @Override    public List<Product> select() {        return productRepository.findAll();    }    @Override    public Product get(Long id) {        return productRepository.findById(id).orElse(null);    }    @Override    public Product insert(Product product) {        product.setStatus("CREATED");        product.setCreatedAt(new Date());        return productRepository.save(product);    }    @Override    public Product update(Long id,Product product) {        Product db=productRepository.findById(id).orElse(null);        db.setName(product.getName());        db.setDescription(product.getDescription());        db.setCategory(product.getCategory());        db.setPrice(product.getPrice());        db.setStock(product.getStock());        db.setStatus(product.getStatus());        return productRepository.save(db);    }    @Override    public Product delete(Long id) {        Product product = get(id);        if (product == null) {            return null;        }        product.setStatus("DELETED");        return productRepository.save(product);    }    @Override    public List<Product> find(Category category) {        return productRepository.findByCategory(category);    }    @Override    public Product editStock(Long id, Integer quantity) {        Product product = get(id);        if (product == null) {            return null;        }        Integer stock = product.getStock() + quantity;        product.setStock(stock);        return productRepository.save(product);    }}